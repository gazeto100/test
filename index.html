<style>
canvas {
    border: 1px solid #d3d3d3;
    background-color: #f1f1f1;
    margin: 0px;

}
</style>

<body onload="startGame()">

<script>

var GamePiece;


var bHeight = window.innerHeight;
var bWidth = window.innerWidth;

console.log(bHeight);
console.log(bWidth);

function startGame() {
    canvas = document.createElement("canvas");
    canvas.width = bWidth-20;
    canvas.height = bHeight-20;
    this.context = canvas.getContext("2d");
        
    GamePiece = new img(224, 224, "gard0002.png", 0, 0);
    GamePiece1 = new img(224, 224, "0_00000.png", 224, 0);
    GameArea.start();

}

var GameArea = {
    
    start : function() {
	canvas.addEventListener("click", doMouseDown, false);
        document.body.insertBefore(canvas, document.body.childNodes[0]);
        this.interval = setInterval(updateGameArea, 1);
    },
    clear : function() {
        context.clearRect(0, 0, canvas.width, canvas.height);
    },
    
    
    
}

function doMouseDown(event){
  c_x = event.pageX;
  c_y = event.pageY;
  console.log( "X= " + c_x + " Y= " + c_y);
  GamePiece.move(c_x+224, c_y);
  GamePiece1.move(c_x, c_y);
  
}


function img(width, height, img, x, y) {
        
    this.image = new Image();
    this.image.src = img;   
    this.width = width;
    this.height = height;
    this.x = x;
    this.y = y;

    this.update = function(){
        ctx = context;
        ctx.drawImage(this.image, this.x, this.y, this.width, this.height);
    }
    
    this.move = function(nX, nY){
	this.x = nX - 124;
	this.y = nY - 124
	
        ctx = context;
        ctx.drawImage(this.image, this.x, this.y, this.width, this.height);
    }
    
}

function updateGameArea() {
    bHeight = window.innerHeight;
    bWidth = window.innerWidth;
    
    if (canvas.width != bWidth-20 || canvas.height != bHeight-20){
      canvas.width = bWidth-20;
      canvas.height = bHeight-20;
    }

    GameArea.clear();

    GamePiece.update();
    GamePiece1.update();


}

</script>